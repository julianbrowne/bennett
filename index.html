<html>
<head>
	<script src="lib/jquery-2.0.3.js"></script>
	<script src="lib/js-yaml-2.1.0.js"></script>
	<script src="lib/orphan-0.0.1.js"></script>
	<script src="lib/gridster-0.1.0.js"></script>
</head>
<body>
	<script type="text/javascript">
		$(function() {

			var dataUrl = "/spec/data.yml";
			var specUrl = "/spec/spec.yml";
			var testUrl = "/spec/test.yml";

			config = $.when(getDataFrom(dataUrl), getDataFrom(specUrl), getDataFrom(testUrl));

			config.done(

				function(data, spec, test) {

					var data = data[2];
					var spec = spec[2];
					var test = test[2];

					var testDriver = {};
					testDriver.fixtures = jsyaml.load(data.responseText);
					testDriver.api = jsyaml.load(spec.responseText);
					testDriver.cases = jsyaml.load(test.responseText);

					console.log("--->");
					console.log(testDriver.cases);

					Object.keys(testDriver.cases).forEach( function(testCase) {

						if(testDriver.cases.hasOwnProperty(testCase)) {
							console.log(testCase);
						}

					});

					var client = new Orphan();

					console.log(client);

				}

			);

			function getDataFrom(url) {
				return $.get(url)
				.done(function(data, status, xhr) { console.log("Called " + url + ", got status " + xhr.status); })
				.fail(function(e) { console.log(e); });
			};

		});
	</script>
</body>
</html>