<html>
<head>
	<link rel="stylesheet" media="all" href="assets/stylesheets/gridster.css" />

	<script src="assets/javascripts/jquery-2.0.3.js"></script>
	<script src="assets/javascripts/js-yaml-2.1.0.js"></script>
	<script src="assets/javascripts/orphan-0.0.1.js"></script>
	<script src="assets/javascripts/gridster-0.1.0.js"></script>
	<script src="assets/javascripts/bennett.js"></script>
</head>
<body>

	<div class="gridster">
		<ul></ul>
	</div>

	<script type="text/javascript">
		$(function() {

			var gridster;

			var dataUrl = "/spec/data.yml";
			var specUrl = "/spec/spec.yml";
			var testUrl = "/spec/test.yml";

			config = $.when(
				getDataFrom(dataUrl),
				getDataFrom(specUrl),
				getDataFrom(testUrl)
			);

			config.done(

				function(data, spec, test) {

					var data = data[2];
					var spec = spec[2];
					var test = test[2];

					var testDriver = {};
					testDriver.fixtures = jsyaml.load(data.responseText);
					testDriver.api = jsyaml.load(spec.responseText);
					testDriver.cases = jsyaml.load(test.responseText);

					gridster = $(".gridster ul").gridster().data('gridster');

					Object.keys(testDriver.cases).forEach( function(testCase) {
						if(testDriver.cases.hasOwnProperty(testCase)) {
							gridster.add_widget("<li>" + '<div class="test-name">' + testCase.toString() + "</div>" + "</li>", 1, 1);
						}
					});

					

				    var client = new Orphan();
					console.log(client);
				}

			);
		});
	</script>

</body>
</html>